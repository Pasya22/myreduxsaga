{"ast":null,"code":"var _jsxFileName = \"D:\\\\BC_FULL_NODE_JS\\\\JS_typeScripts\\\\Bootcamp_pangestu.s\\\\JS_TypeScript\\\\materi JS dan TS\\\\Front-end\\\\my-app\\\\src\\\\Components\\\\Form\\\\ReqLogin.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport apiLogin from '../../Api/ApiLogin';\nimport { useNavigate } from \"react-router-dom\";\n// import Swal from 'sweetalert2'\n// import withReactContent from 'sweetalert2-react-content'\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReqLogin = () => {\n  _s();\n  // const MySwal = withReactContent(Swal)\n  let nav = useNavigate();\n  let [username, setUsername] = useState('');\n  let [passwords, setPassword] = useState('');\n  let [Message, setMessage] = useState([]);\n  const formSubmit = async () => {\n    const result = await apiLogin.login(username, passwords);\n    console.log(result);\n    /* \n      jika berhasil maka return result data menjadi result.data\n      jika error maka return result data menjadi result.response.data\n    */\n\n    if (result.status !== 200) {\n      // nav('/employee') // nav diambil dari userNavigate() di atas\n      setMessage(\"Anda berhasil login\");\n\n      // store token to local storage\n      // localStorage.setItem('token', JSON.stringify(result.data.token));\n      // localStorage.setItem('login', true);\n\n      // redirect to home\n      localStorage.setItem('token', result.data.token);\n      nav('/', {\n        state: {\n          auth: true\n        }\n      });\n    } else {\n      if (Array.isArray(result.response.data.message)) {\n        setMessage(`${result.response.data.message.map(data => {\n          return data, \" \\n\";\n        })}`);\n      } else {\n        setMessage(`${result.response.data.message}`);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"alert alert-primary\",\n      role: \"alert\",\n      children: Message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      class: \"row g-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"username\",\n          class: \"form-label\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          id: \"username\",\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"password\",\n          class: \"form-label\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          class: \"form-control\",\n          id: \"passwords\",\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          class: \"btn btn-outline-primary mx-1\",\n          onClick: formSubmit,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"reset\",\n          class: \"btn btn-outline-secondary mx-1\",\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(ReqLogin, \"pgQY2k44BHkeXjCeQWjn7SWS194=\", false, function () {\n  return [useNavigate];\n});\n_c = ReqLogin;\nexport default ReqLogin;\nvar _c;\n$RefreshReg$(_c, \"ReqLogin\");","map":{"version":3,"names":["React","useState","apiLogin","useNavigate","ReqLogin","nav","username","setUsername","passwords","setPassword","Message","setMessage","formSubmit","result","login","console","log","status","localStorage","setItem","data","token","state","auth","Array","isArray","response","message","map","e","target","value"],"sources":["D:/BC_FULL_NODE_JS/JS_typeScripts/Bootcamp_pangestu.s/JS_TypeScript/materi JS dan TS/Front-end/my-app/src/Components/Form/ReqLogin.js"],"sourcesContent":["import React, { useState } from 'react'\nimport apiLogin from '../../Api/ApiLogin'\nimport { useNavigate } from \"react-router-dom\";\n// import Swal from 'sweetalert2'\n// import withReactContent from 'sweetalert2-react-content'\n\n\nconst ReqLogin = () => {\n  // const MySwal = withReactContent(Swal)\n  let nav = useNavigate();\n\n  let [username, setUsername] = useState('')\n  let [passwords, setPassword] = useState('')\n  let [Message, setMessage] = useState([])\n\n  const formSubmit = async () => {\n    const result = await apiLogin.login(username, passwords)\n\n    console.log(result)\n    /* \n      jika berhasil maka return result data menjadi result.data\n      jika error maka return result data menjadi result.response.data\n    */\n\n    if(result.status !== 200){\n      // nav('/employee') // nav diambil dari userNavigate() di atas\n      setMessage(\"Anda berhasil login\")\n\n      // store token to local storage\n      // localStorage.setItem('token', JSON.stringify(result.data.token));\n      // localStorage.setItem('login', true);\n      \n      // redirect to home\n      localStorage.setItem('token',(result.data.token));\n      nav('/', {state : {auth : true}})\n    }else{\n      if (Array.isArray(result.response.data.message)){\n\n        setMessage(`${result.response.data.message.map((data) => {return (data , \" \\n\")})}`)\n\n      }else{\n\n        setMessage(`${result.response.data.message}`)\n      }\n    }\n\n  }\n\n  return (\n    <div>\n      \n      <div class=\"alert alert-primary\" role=\"alert\">{Message}</div>\n      <form class=\"row g-3\">\n        <div class=\"col-12\">\n          <label for=\"username\" class=\"form-label\">Username</label>\n          <input type=\"text\" class=\"form-control\" id=\"username\" onChange={(e) => setUsername(e.target.value)} />\n        </div>\n        <div class=\"col-12\">\n          <label for=\"password\" class=\"form-label\">Password</label>\n          <input type=\"password\" class=\"form-control\" id=\"passwords\" onChange={(e) => setPassword(e.target.value)} />\n        </div>\n        <div class=\"text-center\">\n          <button type=\"button\" class=\"btn btn-outline-primary mx-1\" onClick={formSubmit}>Submit</button>\n          <button type=\"reset\" class=\"btn btn-outline-secondary mx-1\">Reset</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default ReqLogin\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}